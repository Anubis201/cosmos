<div class="planets">
  <div
    *ngIf="showHello"
    class="hello"
  >
    <app-hello
      (hideHello)="handleHideHello()"
    ></app-hello>
  </div>

  <div
    *ngIf="isloading && !showHello"
    class="loading"
  >
    <p-progressSpinner></p-progressSpinner>
  </div>

  <table *ngIf="!isloading && !showHello">
    <tr *ngFor="let tr of map; let trIndex = index; let trLast = last">
      <td
        *ngFor="let area of tr; let tdIndex = index; let tdLast = last"
        [class.green-place]="!whereIsShip || canShipMove(trIndex, tdIndex)"
        pDroppable="shipPlace"
        (onDrop)="drop(trIndex, tdIndex)"
      >
        <div
          [ngSwitch]="findPlanet(area)?.type"
          class="object"
        >
          <div>{{ area }}</div>
          <img
            *ngSwitchCase="'Planet'"
            src="/assets/img/mars.png"
            alt="planet"
            class="planet"
          >
          <img
            *ngSwitchCase="'Station'"
            src="/assets/img/station1.png"
            alt="space station"
            class="station"
          >
          <img
            *ngIf="!area && !isShipHere(trIndex, tdIndex) && whereIsShip"
            src="/assets/img/asteroids.png"
            alt="asteroid"
            class="station"
          >
        </div>
        <img
          *ngIf="isShipHere(trIndex, tdIndex)"
          class="ship"
          src="/assets/img/transporter.png"
          alt="ship"
          pDraggable="shipPlace"
        >
      </td>
    </tr>
  </table>
</div>
